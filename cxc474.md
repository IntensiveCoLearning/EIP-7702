---
timezone: UTC+8
---

> 请在上边的 timezone 添加你的当地时区(UTC)，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区


# 你的名字

1. 自我介绍: Chen-Yuan Chung，我在台灣，想多學習以太坊的知識，希望未來可以參與開發。
2. 你认为你会完成本次残酷学习吗？  會
3. 你的联系方式（推荐 Telegram）  cxc474@case.edu

## Notes

<!-- Content_START -->

### 2025.05.14
https://www.nethermind.io/blog/eip-7702-attack-surfaces-what-developers-should-know

以太坊區分兩種帳戶類型： (1) Externally Owned Accounts (EOAs) 外部擁有帳戶; (2) Smart Contract Accounts 智能合約帳戶。
EIP 7702 提議允許 EOA(外部擁有帳戶) 擁有程式碼。此變更將使以太坊更接近帳戶抽象化，透過允許 EOA 批次處理操作、實作原生多重簽名或替代簽名方案，但也引入了新的安全風險，如果實作沒有經過仔細設計和審計。
EIP 7702 的核心是引入一種新的交易類型，允許帳戶在自身上設定和委派程式碼。它不是直接將完整的合約程式碼儲存在帳戶上，而是儲存一個委託指示符 delegation designator，它是一個特定的前綴，後跟一個地址 ( (0xef0100 || address) )，這個指標指示實際的智能合約程式碼在鏈上的位置。簡單來說，錢包將指向一個鏈上的智能合約，而該合約的邏輯決定了帳戶的行為方式。
EIP 7702 代表了以太坊帳戶模型的一個重大演變。透過允許 EOA 納入程式碼，它開啟了更豐富功能的可能性，例如批次交易、gas 贊助和可自訂的邏輯。然而，這種增加的靈活性是以增加攻擊面為代價的，其中存在許多潛在的漏洞。
開發人員在將此 EIP 整合到其協議之前需要考慮的風險: (1) 缺乏存取控制; (2) 初始化挑戰; (3) 儲存體衝突。

### 2025.05.15
https://hackmd.io/@colinlyguo/SyAZWMmr1x

EIP-7702 引入了一種新的交易類型，允許外部擁有帳戶 (EOA) 指定一個地址作為指向其實現的指標。例如，這個地址可以是一個通用的代理或最小代理合約，將呼叫訊息轉發到一個可升級的錢包實現。

EIP-7702 有效地將 EOA 升級為像智能合約錢包一樣運作，為 EOA 使用者解鎖了可程式性和可組合性，並啟用了以下功能：
(1)社交恢復：EIP-7702 支援 EOA 使用者的社交恢復。這對於害怕遺失私鑰的使用者特別有利，他們只需透過簡單的社交恢復設定即可克服這個問題。
(2)交易批次處理：使用者可以透過擺脫傳統的 ERC-20 代幣「批准和轉帳」兩步驟授權模型，或進一步批次發送轉帳，來簡化交易流程。
(3)交易贊助：使用者可以將交易執行和 gas 費用支付延遲給第三方，例如排序器或錢包伺服器。此功能為可能沒有用於 gas 支付的原生代幣的使用者提供了便利。
(4)任意簽署金鑰：錢包可以利用各種金鑰類型（例如 WebAuthn、P256、BLS 等）來驗證操作，從而在設計空間中提供更大的靈活性。
(5)會話金鑰：使用者可以將具有生命週期和範圍權限的會話金鑰委託給金鑰託管服務，從而實現訂閱模式。此外，使用者可以在受限制的「沙盒」環境中與 DApp 互動，透過防止惡意行為者存取其完整的錢包或資產，顯著降低網路釣魚攻擊的風險和影響。
(6)自定義 gas 代幣、多重簽名方案的權限控制等等…

透過 EIP-7702，從 EOA 的角度來看，ETH 餘額現在不僅可以透過簽署的交易減少，還可以透過觸發合約執行的交易減少。從智能合約的角度來看，EOA 可以直接發送交易來更改帳戶狀態。這引入了以下考量：
(1)過去，EOA 只能透過簽署交易發送 ETH，這使得交易池可以透過檢查新區塊中發送者的餘額來使發送者餘額不足的待處理交易失效。然而，透過 EIP-7702，委派的程式碼可以隨時修改 EOA 的餘額，這使得這種不變性不相容，需要重新考慮相關的交易池邏輯。
(2)EIP-7702 錢包實作不能依賴本地維護的不變性，並且必須查詢真實的帳戶狀態，因為 EOA 可以隨時發起交易來改變他們的餘額。

### 2025.05.16
https://eips.ethereum.org/EIPS/eip-7702

儘管智能合約錢包生態系統取得了巨大進展，但 EOA 阻礙了跨應用程式的 UX 改善的廣泛採用。因此，EIP-7702 著重於為 EOA 增加短期功能改進，這將使 UX 改善滲透到整個應用程式堆疊中。EIP-7702 圍繞設計的三個特定功能是：
(1)批次處理：允許來自同一使用者的多個操作在一個原子交易中進行。一個常見的例子是 ERC-20 批准，然後花費該批准。這是 DEX 中常見的工作流程，目前需要兩筆交易。批次處理的高級用例偶爾涉及依賴關係：第一個操作的輸出是第二個操作的輸入的一部分。
(2)贊助：帳戶 X 代表帳戶 Y 支付交易費用。帳戶 X 可以因這項服務而獲得一些其他 ERC-20 的支付，或者它可以是免費包含其使用者交易的應用程式營運商。
(3)權限降級：使用者可以簽署子金鑰，並授予它們比全域存取帳戶弱得多的特定權限。例如，花費 ERC-20 代幣但不花費 ETH 的權限，或每天花費不超過總餘額的 1% 的權限，或僅與特定應用程式互動的權限。

### 2025.05.17
https://mirror.xyz/0x9FFC14AB8754E4De3b0C763F58564D60f935Ad6F/eiLgBj9iPFmy4s4bmjY2jvEW_7g8YxYMQaHvqm9Xw_o

EIP-7702：為單一交易設定 EOA 帳戶程式碼新增一種新的交易類型，可以在一次交易執行期間設定 EOA 的程式碼。
此 EIP 引入了一種新的交易類型，允許外部擁有的帳戶 (EOA) 在一次交易中擁有智能合約代碼。
簡單來說，在執行此類型的交易期間，EOA 將充當智能合約/智能錢包，並且在交易執行後，它將變回沒有代碼的原始 EOA。
![image](https://github.com/user-attachments/assets/6c73f409-4377-4299-a1bf-eb20b2ef01b4)

EOA 使用者錢包簽署 contract_code 並在交易中提供簽名。驗證此簽名後， contract_code 會儲存在 EOA 中，並且在整個交易過程中，它會像一個智能合約一樣運作。交易執行後，程式碼會被清空，而 EOA 再次像普通帳戶一樣運作。
EOA 在交易期間升級為「supercharged EOAs」。

### 2025.05.18
https://decentralizedsecurity.es/eip-7702-ethereums-next-step-toward-a-more-flexible-account-model

在以太坊中，外部擁有帳戶（EOA）和智能合約傳統上是截然不同的：EOA 由私鑰控制，可以發起交易，而智能合約可以在被觸發時執行代碼，但不能發起交易。
EIP-7702 彌合了這一差距，允許 EOA 執行代碼，有效地模糊了它們與智能合約之間的界限。 這項提案代表了邁向原生帳戶抽象的重要一步，增強了以太坊的可用性、安全性和可編程性。
傳統上，EOA 具有空的代碼雜湊值 ( 0x )，而智能合約具有從其部署的位元組碼衍生的代碼雜湊值。然而，EIP-7702 改變了這一點——EOA 現在可以具有格式為 (0xef0100 ++ address) 的非空代碼雜湊值。這個值，稱為委託指示符(delegation designator)，指向一個持有可執行代碼的智能合約。
當交易被發送到具有委託指示符的 EOA 時，它會執行儲存在指定智能合約地址的代碼，就像它是自己的代碼一樣，類似於 delegatecall 在 Solidity 中的工作方式。這使得 EOA 能夠像智能合約一樣運作，同時保持其功能，例如發送交易。
EIP-7702 引入了一種新的交易類型 (0x04)，稱為 setcode，它允許 EOA 與智慧合約關聯，以委託程式碼執行。該交易包含以下欄位：
![image](https://github.com/user-attachments/assets/94ff8871-ec21-4de2-ab50-16e41f3ab18f)

為了建立這種關係，新增了一個名為 authorizationList 的結構，其中包含授權元組，具有以下欄位 [chain_id, address, nonce, y_parity, r, s] ，其中：
chain_id ：識別區塊鏈網路。
address ：指定已部署的智能合約，EOA 將指向該合約以進行程式碼委託。
nonce ：確保唯一性並防止重放攻擊。
signature ：由 EOA 簽署，證明授權。

### 2025.05.19
https://docs.biconomy.io/eip7702/explained/

EIP-7702 是一項以太坊改進建議，它引入了一種新的交易類型，允許外部擁有帳戶（EOAs）將其執行委派給智能合約。這項協議層的增強有效地為傳統的 EOAs 提供了可編程能力，而無需用戶遷移到全新的錢包地址。
以太坊生態系統長期以來在賬戶類型上存在根本的分歧。傳統的用戶錢包（EOAs）提供簡便性，但缺乏可編程性，而智能合約賬戶提供強大的功能，但要求用戶採用全新的地址。用戶被迫在保留他們已建立的鏈上身份或獲取高級功能之間做出選擇。可以理解的是，許多用戶由於數位身分的碎片化和所涉及的複雜性而拒絕遷移。
EIP-7702 彌合了這個差距，使 EOA 能夠像智慧帳戶一樣運作，同時保持其原始地址和已建立的鏈上歷史記錄。
EIP-7702 的核心是引入了一種新的交易類型，其中包含一個「授權」欄位。當 EOA 所有者簽署特殊的授權訊息時，以太坊協議會在網路層級記錄此委託。未來發送到此 EOA 的交易將執行委託的智慧合約程式碼，同時仍將 EOA 維持為這些交易中的 msg.sender 。
這種方法與代理合約有根本的不同，因為委託發生在協議層級。無需為每個使用者部署單獨的合約，從使用者的角度來看，該過程顯著提高了 gas 效率且更加無縫。
EIP-7702 透過啟用三項關鍵增強功能來轉換傳統 EOA：
(1)首先，它啟用交易批次處理，允許使用者將多個操作合併為單個原子交易。例如，先前需要單獨簽名的代幣批准和交換操作可以一次執行。
(2)其次，它為替代 gas 支付機制打開了大門。使用者可以讓應用程式贊助交易、使用 ERC-20 代幣而不是 ETH 支付費用，或受益於最佳化的交易捆綁服務。
(3)第三，它引入了複雜的權限管理。使用者可以創建具有有限權限的專用存取金鑰，用於特定應用程式、實施支出限制或限制某些功能，同時保持核心帳戶安全。

### 2025.05.20
https://blog.biconomy.io/a-comprehensive-eip-7702-guide-for-apps/


### 2025.05.21

<!-- Content_END -->
